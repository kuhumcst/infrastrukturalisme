goog.provide('vega.app.core');
vega.app.core.timeline = "{\n  \"$schema\": \"https://vega.github.io/schema/vega/v5.json\",\n  \"description\": \"A timeline for Hjelmslev's activities.\",\n  \"width\": 800,\n  \"height\": 200,\n  \"padding\": 10,\n  \"autosize\": \"pad\",\n  \"data\": [\n    {\n      \"name\": \"hjelmslev\",\n      \"url\": \"https://raw.githubusercontent.com/SofieVonge/infrastrukturalisme/master/data/timeline/hjelmslev.json\",\n      \"format\": {\n        \"type\": \"json\",\n        \"parse\": {\n          \"Startdato\": \"date:'%d-%m-%Y'\",\n          \"Slutdato\": \"date:'%d-%m-%Y'\"\n        }\n      },\n      \"transform\": [\n        {\n          \"type\": \"formula\",\n          \"expr\": \"datum.Kategori === 'Rejse' ? 0 : 1\",\n          \"as\": \"sorting\"\n        }\n      ]\n    },\n    {\n      \"name\": \"initValues\",\n      \"format\": {\n        \"type\": \"json\",\n        \"parse\": {\n          \"initRange\": \"date\"\n        }\n      },\n      \"values\": [\n        {\n          \"initRange\": -1262304000000\n        },\n        {\n          \"initRange\": -1136073600000\n        }\n      ],\n      \"transform\": [\n        {\n          \"type\": \"extent\",\n          \"field\": \"initRange\",\n          \"signal\": \"xext\"\n        }\n      ]\n    },\n    {\n      \"name\": \"selected\",\n      \"on\": [\n        {\n          \"trigger\": \"clear\",\n          \"remove\": true\n        },\n        {\n          \"trigger\": \"!shift\",\n          \"remove\": true\n        },\n        {\n          \"trigger\": \"!shift && clicked\",\n          \"insert\": \"clicked\"\n        },\n        {\n          \"trigger\": \"shift && clicked\",\n          \"toggle\": \"clicked\"\n        }\n      ]\n    }\n  ],\n  \"signals\": [\n    {\n      \"name\": \"path\",\n      \"value\": \"M0 -50 H 800 V 200 H0\"\n    },\n    {\n      \"name\": \"clear\",\n      \"value\": true,\n      \"on\": [\n        {\n          \"events\": \"dblclick[!event.item]\",\n          \"update\": \"true\",\n          \"force\": true\n        }\n      ]\n    },\n    {\n      \"name\": \"shift\",\n      \"value\": false,\n      \"on\": [\n        {\n          \"events\": \"@legendSymbol:click, @legendLabel:click\",\n          \"update\": \"event.shiftKey\",\n          \"force\": true\n        }\n      ]\n    },\n    {\n      \"name\": \"clicked\",\n      \"value\": null,\n      \"on\": [\n        {\n          \"events\": \"@legendSymbol:click, @legendLabel:click\",\n          \"update\": \"{value: datum.value}\",\n          \"force\": true\n        }\n      ]\n    },\n    {\n      \"name\": \"down\",\n      \"value\": null,\n      \"on\": [\n        {\n          \"events\": \"mousedown\",\n          \"update\": \"xy()\"\n        }\n      ]\n    },\n    {\n      \"name\": \"xcur\",\n      \"value\": null,\n      \"on\": [\n        {\n          \"events\": \"mousedown\",\n          \"update\": \"slice(xdom)\"\n        }\n      ]\n    },\n    {\n      \"name\": \"delta\",\n      \"value\": [\n        0,\n        0\n      ],\n      \"on\": [\n        {\n          \"events\": [\n            {\n              \"source\": \"window\",\n              \"type\": \"mousemove\",\n              \"filter\": \"!event.shiftKey\",\n              \"consume\": true,\n              \"between\": [\n                {\n                  \"type\": \"mousedown\",\n                  \"filter\": \"!event.shiftKey\"\n                },\n                {\n                  \"source\": \"window\",\n                  \"type\": \"mouseup\"\n                }\n              ]\n            }\n          ],\n          \"update\": \"down ? [down[0]-x(), y()-down[1]] : [0,0]\"\n        }\n      ]\n    },\n    {\n      \"name\": \"xdom\",\n      \"update\": \"slice(xext)\",\n      \"on\": [\n        {\n          \"events\": \"dblclick\",\n          \"update\": \"slice(xext)\"\n        },\n        {\n          \"events\": {\n            \"signal\": \"delta\"\n          },\n          \"update\": \"[xcur[0] + span(xcur) * delta[0] / width, xcur[1] + span(xcur) * delta[0] / width]\"\n        }\n      ]\n    }\n  ],\n  \"scales\": [\n    {\n      \"name\": \"yscale\",\n      \"type\": \"band\",\n      \"range\": \"height\",\n      \"padding\": 1,\n      \"domain\": {\n        \"data\": \"hjelmslev\",\n        \"field\": \"Kategori\",\n        \"sort\": {\n          \"op\": \"min\",\n          \"field\": \"sorting\"\n        }\n      }\n    },\n    {\n      \"name\": \"xscale\",\n      \"type\": \"time\",\n      \"padding\": 0.5,\n      \"domain\": {\n        \"signal\": \"xdom\"\n      },\n      \"range\": \"width\"\n    },\n    {\n      \"name\": \"color\",\n      \"type\": \"ordinal\",\n      \"range\": {\n        \"scheme\": \"category20\"\n      },\n      \"domain\": {\n        \"data\": \"hjelmslev\",\n        \"field\": \"Kategori\"\n      }\n    }\n  ],\n  \"axes\": [\n    {\n      \"orient\": \"bottom\",\n      \"scale\": \"xscale\",\n      \"format\": \"%m.%Y\",\n      \"labelAngle\": -40,\n      \"labelPadding\": 9\n    },\n    {\n      \"orient\": \"left\",\n      \"scale\": \"yscale\",\n      \"grid\": true,\n      \"encode\": {\n        \"labels\": {\n          \"enter\": {\n            \"fill\": {\n              \"signal\": \"scale('color', datum.value)\"\n            }\n          }\n        }\n      }\n    }\n  ],\n  \"legends\": [\n    {\n      \"stroke\": \"color\",\n      \"symbolType\": \"stroke\",\n      \"direction\": \"horizontal\",\n      \"orient\": \"top\",\n      \"offset\": 80,\n      \"encode\": {\n        \"symbols\": {\n          \"name\": \"legendSymbol\",\n          \"interactive\": true,\n          \"update\": {\n            \"opacity\": [\n              {\n                \"test\": \"!length(data('selected')) || indata('selected', 'value', datum.value)\",\n                \"value\": 1\n              },\n              {\n                \"value\": 0.25\n              }\n            ]\n          }\n        },\n        \"labels\": {\n          \"name\": \"legendLabel\",\n          \"interactive\": true,\n          \"update\": {\n            \"opacity\": [\n              {\n                \"test\": \"!length(data('selected')) || indata('selected', 'value', datum.value)\",\n                \"value\": 1\n              },\n              {\n                \"value\": 0.25\n              }\n            ]\n          }\n        }\n      }\n    }\n  ],\n  \"marks\": [\n    {\n      \"type\": \"path\",\n      \"encode\": {\n        \"update\": {\n          \"fill\": {\n            \"value\": \"purple\"\n          },\n          \"path\": {\n            \"signal\": \"null\"\n          }\n        }\n      }\n    },\n    {\n      \"type\": \"text\",\n      \"from\": {\n        \"data\": \"hjelmslev\"\n      },\n      \"zindex\": 99,\n      \"clip\": {\n        \"path\": \"M0 -50 H 800 V 200 H0\"\n      },\n      \"encode\": {\n        \"update\": {\n          \"x\": {\n            \"scale\": \"xscale\",\n            \"field\": \"Startdato\",\n            \"offset\": 5\n          },\n          \"y\": {\n            \"field\": \"Kategori\",\n            \"scale\": \"yscale\",\n            \"offset\": -4\n          },\n          \"angle\": {\n            \"value\": -60\n          },\n          \"text\": {\n            \"field\": \"Event\"\n          },\n          \"limit\": {\n            \"value\": 50\n          },\n          \"tooltip\": [\n            {\n              \"test\": \"(!length(data('selected')) || indata('selected', 'value', datum.Kategori))\",\n              \"signal\": \"datum.Tooltip\"\n            }\n          ],\n          \"opacity\": [\n            {\n              \"test\": \"(!length(data('selected')) || indata('selected', 'value', datum.Kategori))\",\n              \"value\": 1\n            },\n            {\n              \"value\": 0\n            }\n          ]\n        }\n      }\n    },\n    {\n      \"type\": \"symbol\",\n      \"from\": {\n        \"data\": \"hjelmslev\"\n      },\n      \"clip\": true,\n      \"zindex\": 80,\n      \"encode\": {\n        \"update\": {\n          \"x\": {\n            \"scale\": \"xscale\",\n            \"field\": \"Startdato\"\n          },\n          \"y\": {\n            \"scale\": \"yscale\",\n            \"field\": \"Kategori\"\n          },\n          \"fill\": {\n            \"scale\": \"color\",\n            \"field\": \"Kategori\"\n          },\n          \"tooltip\": [\n            {\n              \"test\": \"(!length(data('selected')) || indata('selected', 'value', datum.Kategori))\",\n              \"signal\": \"'Land: ' + datum.Land\"\n            }\n          ],\n          \"opacity\": [\n            {\n              \"test\": \"(!length(data('selected')) || indata('selected', 'value', datum.Kategori))\",\n              \"value\": 1\n            },\n            {\n              \"value\": 0\n            }\n          ]\n        }\n      }\n    },\n    {\n      \"type\": \"rect\",\n      \"from\": {\n        \"data\": \"hjelmslev\"\n      },\n      \"zindex\": 1,\n      \"clip\": true,\n      \"encode\": {\n        \"enter\": {\n          \"y\": {\n            \"scale\": \"yscale\",\n            \"field\": \"Kategori\",\n            \"offset\": -2\n          },\n          \"height\": {\n            \"value\": 4\n          },\n          \"fill\": {\n            \"scale\": \"color\",\n            \"field\": \"Kategori\"\n          }\n        },\n        \"update\": {\n          \"x\": {\n            \"scale\": \"xscale\",\n            \"field\": \"Startdato\"\n          },\n          \"x2\": {\n            \"scale\": \"xscale\",\n            \"field\": \"Slutdato\"\n          },\n          \"tooltip\": [\n            {\n              \"test\": \"(!length(data('selected')) || indata('selected', 'value', datum.Kategori))\",\n              \"signal\": \"'Land: ' + datum.Land\"\n            }\n          ],\n          \"opacity\": [\n            {\n              \"test\": \"(!length(data('selected')) || indata('selected', 'value', datum.Kategori))\",\n              \"value\": 1\n            },\n            {\n              \"value\": 0\n            }\n          ]\n        }\n      }\n    }\n  ],\n  \"config\": {}\n}";
vega.app.core.new_data = "[\r\n    {\r\n        \"Startdato\": \"03-10-1899\",\r\n        \"Slutdato\": \"04-10-1899\",\r\n        \"Land\": \"Danmark\",\r\n        \"Sted = By / Landomr\u00E5de\": \"K\u00F8benhavn\",\r\n        \"Institution\": null,\r\n        \"Kategori\": \"Liv\",\r\n        \"Tooltip\": \"F\u00F8dsel\",\r\n        \"Event\": \"F\u00F8dsel\",\r\n        \"Personer\": null,\r\n        \"Kilde\": null\r\n    },\r\n    {\r\n        \"Startdato\": \"04-10-1914\",\r\n        \"Slutdato\": \"05-10-1914\",\r\n        \"Land\": \"Danmark\",\r\n        \"Sted = By / Landomr\u00E5de\": \"K\u00F8benhavn\",\r\n        \"Institution\": \"Hellerup Kirke\",\r\n        \"Kategori\": \"Liv\",\r\n        \"Tooltip\": \"Konfirmation\",\r\n        \"Event\": \"Konfirmation\",\r\n        \"Personer\": null,\r\n        \"Kilde\": \"K12 - 108\"\r\n    },\r\n    {\r\n        \"Startdato\": \"10-07-1917\",\r\n        \"Slutdato\": \"11-07-1917\",\r\n        \"Land\": \"Danmark\",\r\n        \"Sted = By / Landomr\u00E5de\": \"K\u00F8benhavn\",\r\n        \"Institution\": \"Hellerup Gymnasium\",\r\n        \"Kategori\": \"Liv\",\r\n        \"Tooltip\": \"Studentereksamen, nysproglig-linje\",\r\n        \"Event\": \"Studentereksamen, nysproglig-linje\",\r\n        \"Personer\": null,\r\n        \"Kilde\": \"K12 - 119\"\r\n    }\r\n]";
vega.app.core.string__GT_json = (function vega$app$core$string__GT_json(string){

return JSON.parse(string);
});
vega.app.core.json__GT_map = (function vega$app$core$json__GT_map(json,keywordize_keys_QMARK_){

return cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$variadic(json,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.Keyword(null,"keywordize-keys","keywordize-keys",1310784252),keywordize_keys_QMARK_], 0));
});
vega.app.core.spec = vega.app.core.json__GT_map(vega.app.core.string__GT_json(vega.app.core.timeline),true);
vega.app.core.data_set = vega.app.core.json__GT_map(vega.app.core.string__GT_json(vega.app.core.new_data),true);
vega.app.core.year_QMARK_ = cljs.spec.alpha.and_spec_impl(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core",">","cljs.core/>",2020535938,null),new cljs.core.Symbol(null,"%","%",-950237169,null),(1880))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","<","cljs.core/<",1677496129,null),new cljs.core.Symbol(null,"%","%",-950237169,null),(2020)))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.number_QMARK_,(function (p1__43965_SHARP_){
return (p1__43965_SHARP_ > (1880));
}),(function (p1__43966_SHARP_){
return (p1__43966_SHARP_ < (2020));
})], null),null);
vega.app.core.height_QMARK_ = cljs.spec.alpha.and_spec_impl(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol("cljs.core","number?","cljs.core/number?",-811857295,null),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core",">=","cljs.core/>=",350096541,null),new cljs.core.Symbol(null,"%","%",-950237169,null),(100))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","<=","cljs.core/<=",1677001748,null),new cljs.core.Symbol(null,"%","%",-950237169,null),(1200)))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.number_QMARK_,(function (p1__43967_SHARP_){
return (p1__43967_SHARP_ >= (100));
}),(function (p1__43968_SHARP_){
return (p1__43968_SHARP_ <= (1200));
})], null),null);
vega.app.core.valid_colors = new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 14, ["tableau10",null,"pastel1",null,"set1",null,"category20",null,"paired",null,"tableau20",null,"set2",null,"category20c",null,"pastel2",null,"set3",null,"dark2",null,"category20b",null,"category10",null,"accent",null], null), null);
vega.app.core.valid_symbols = new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 12, ["diamond",null,"arrow",null,"cross",null,"triangle-down",null,"stroke",null,"triangle-right",null,"triangle",null,"square",null,"wedge",null,"triangle-left",null,"circle",null,"triangle-up",null], null), null);
cljs.spec.alpha.def_impl(new cljs.core.Keyword("vega.app.core","Startdato","vega.app.core/Startdato",-264193366),new cljs.core.Symbol("cljs.core","string?","cljs.core/string?",-2072921719,null),cljs.core.string_QMARK_);
cljs.spec.alpha.def_impl(new cljs.core.Keyword("vega.app.core","Slutdato","vega.app.core/Slutdato",1550232956),new cljs.core.Symbol("cljs.core","string?","cljs.core/string?",-2072921719,null),cljs.core.string_QMARK_);
cljs.spec.alpha.def_impl(new cljs.core.Keyword("vega.app.core","Kategori","vega.app.core/Kategori",-895982306),new cljs.core.Symbol("cljs.core","string?","cljs.core/string?",-2072921719,null),cljs.core.string_QMARK_);
cljs.spec.alpha.def_impl(new cljs.core.Keyword("vega.app.core","dataset","vega.app.core/dataset",-40215571),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),new cljs.core.Keyword("vega.app.core","data","vega.app.core/data",1486959472)),cljs.spec.alpha.every_impl.cljs$core$IFn$_invoke$arity$4(new cljs.core.Keyword("vega.app.core","data","vega.app.core/data",1486959472),new cljs.core.Keyword("vega.app.core","data","vega.app.core/data",1486959472),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword("cljs.spec.alpha","kind-form","cljs.spec.alpha/kind-form",-1047104697),null,new cljs.core.Keyword("cljs.spec.alpha","cpred","cljs.spec.alpha/cpred",-693471218),(function (G__43969){
return cljs.core.coll_QMARK_(G__43969);
}),new cljs.core.Keyword("cljs.spec.alpha","conform-all","cljs.spec.alpha/conform-all",45201917),true,new cljs.core.Keyword("cljs.spec.alpha","describe","cljs.spec.alpha/describe",1883026911),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),new cljs.core.Keyword("vega.app.core","data","vega.app.core/data",1486959472))], null),null));
cljs.spec.alpha.def_impl(new cljs.core.Keyword("vega.app.core","data","vega.app.core/data",1486959472),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("vega.app.core","Startdato","vega.app.core/Startdato",-264193366),new cljs.core.Keyword("vega.app.core","Slutdato","vega.app.core/Slutdato",1550232956),new cljs.core.Keyword("vega.app.core","Kategori","vega.app.core/Kategori",-895982306)], null),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("vega.app.core","Event","vega.app.core/Event",958805243),new cljs.core.Keyword("vega.app.core","Tooltip","vega.app.core/Tooltip",568533080)], null)),cljs.spec.alpha.map_spec_impl(cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("vega.app.core","Startdato","vega.app.core/Startdato",-264193366),new cljs.core.Keyword("vega.app.core","Slutdato","vega.app.core/Slutdato",1550232956),new cljs.core.Keyword("vega.app.core","Kategori","vega.app.core/Kategori",-895982306)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("vega.app.core","Event","vega.app.core/Event",958805243),new cljs.core.Keyword("vega.app.core","Tooltip","vega.app.core/Tooltip",568533080)], null),null,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__43970){
return cljs.core.map_QMARK_(G__43970);
}),(function (G__43970){
return cljs.core.contains_QMARK_(G__43970,new cljs.core.Keyword(null,"Startdato","Startdato",690900569));
}),(function (G__43970){
return cljs.core.contains_QMARK_(G__43970,new cljs.core.Keyword(null,"Slutdato","Slutdato",1961240937));
}),(function (G__43970){
return cljs.core.contains_QMARK_(G__43970,new cljs.core.Keyword(null,"Kategori","Kategori",322368075));
})], null),(function (G__43970){
return ((cljs.core.map_QMARK_(G__43970)) && (cljs.core.contains_QMARK_(G__43970,new cljs.core.Keyword(null,"Startdato","Startdato",690900569))) && (cljs.core.contains_QMARK_(G__43970,new cljs.core.Keyword(null,"Slutdato","Slutdato",1961240937))) && (cljs.core.contains_QMARK_(G__43970,new cljs.core.Keyword(null,"Kategori","Kategori",322368075))));
}),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"Event","Event",-475754196),new cljs.core.Keyword(null,"Tooltip","Tooltip",425897735)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("vega.app.core","Startdato","vega.app.core/Startdato",-264193366),new cljs.core.Keyword("vega.app.core","Slutdato","vega.app.core/Slutdato",1550232956),new cljs.core.Keyword("vega.app.core","Kategori","vega.app.core/Kategori",-895982306)], null),null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"Startdato","Startdato",690900569),new cljs.core.Keyword(null,"Slutdato","Slutdato",1961240937),new cljs.core.Keyword(null,"Kategori","Kategori",322368075)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("vega.app.core","Event","vega.app.core/Event",958805243),new cljs.core.Keyword("vega.app.core","Tooltip","vega.app.core/Tooltip",568533080)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"Startdato","Startdato",690900569))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"Slutdato","Slutdato",1961240937))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"Kategori","Kategori",322368075)))], null),null])));
vega.app.core.change_range = (function vega$app$core$change_range(vega_spec,start_year,end_year){

if(((cljs.spec.alpha.valid_QMARK_.cljs$core$IFn$_invoke$arity$2(vega.app.core.year_QMARK_,start_year)) && (cljs.spec.alpha.valid_QMARK_.cljs$core$IFn$_invoke$arity$2(vega.app.core.year_QMARK_,end_year)))){
return cljs.core.assoc_in(vega_spec,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),(1),new cljs.core.Keyword(null,"values","values",372645556)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"initRange","initRange",537969104),[cljs.core.str.cljs$core$IFn$_invoke$arity$1(start_year),"-01-01"].join('')], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"initRange","initRange",537969104),[cljs.core.str.cljs$core$IFn$_invoke$arity$1(end_year),"-01-01"].join('')], null)], null));
} else {
return null;
}
});
vega.app.core.change_range_step = (function vega$app$core$change_range_step(vega_spec,step){

if((step > (0))){
var year = ((1930) + step);
return cljs.core.assoc_in(vega_spec,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),(1),new cljs.core.Keyword(null,"values","values",372645556),(1),new cljs.core.Keyword(null,"initRange","initRange",537969104)], null),[cljs.core.str.cljs$core$IFn$_invoke$arity$1(year),"-01-01"].join(''));
} else {
return null;
}
});
vega.app.core.change_dataset = (function vega$app$core$change_dataset(vega_spec,dataset){

if(cljs.spec.alpha.valid_QMARK_.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword("vega.app.core","dataset","vega.app.core/dataset",-40215571),dataset)){
return cljs.core.assoc_in(cljs.core.update_in.cljs$core$IFn$_invoke$arity$4(vega_spec,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),(0)], null),cljs.core.dissoc,new cljs.core.Keyword(null,"url","url",276297046)),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),(0),new cljs.core.Keyword(null,"values","values",372645556)], null),dataset);
} else {
return null;
}
});
vega.app.core.change_height = (function vega$app$core$change_height(vega_spec,height){

if(cljs.spec.alpha.valid_QMARK_.cljs$core$IFn$_invoke$arity$2(vega.app.core.height_QMARK_,height)){
return cljs.core.assoc_in(vega_spec,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"height","height",1025178622)], null),height);
} else {
return null;
}
});
vega.app.core.change_color = (function vega$app$core$change_color(vega_spec,scheme){

if(cljs.core.contains_QMARK_(vega.app.core.valid_colors,scheme)){
return cljs.core.assoc_in(vega_spec,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"scales","scales",-1197224722),(2),new cljs.core.Keyword(null,"range","range",1639692286)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"scheme","scheme",90199613),scheme], null));
} else {
return null;
}
});
vega.app.core.change_symbol = (function vega$app$core$change_symbol(vega_spec,symbol){

if(cljs.core.contains_QMARK_(vega.app.core.valid_symbols,symbol)){
return cljs.core.assoc_in(vega_spec,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"marks","marks",-1844991497),(2),new cljs.core.Keyword(null,"encode","encode",-1753429702),new cljs.core.Keyword(null,"update","update",1045576396),new cljs.core.Keyword(null,"shape","shape",1190694006)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),symbol], null));
} else {
return null;
}
});
vega.app.core.spec_component = (function vega$app$core$spec_component(vega_spec){

return oz.core.vega.cljs$core$IFn$_invoke$arity$2(vega_spec,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"mode","mode",654403691),"vega"], null));
});
vega.app.core.app = (function vega$app$core$app(){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [vega.app.core.spec_component,vega.app.core.spec], null);
});
vega.app.core.root = document.getElementById("app");
vega.app.core.render = (function vega$app$core$render(){
return reagent.dom.render.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [vega.app.core.app], null),vega.app.core.root);
});
vega.app.core.init = (function vega$app$core$init(){
return vega.app.core.render();
});

//# sourceMappingURL=vega.app.core.js.map
