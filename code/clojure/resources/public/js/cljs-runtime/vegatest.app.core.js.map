{"version":3,"sources":["vegatest/app/core.cljs"],"mappings":"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","names":["vegatest.app.core/json","vegatest.app.core/a","js/JSON","js/vegatest","js/vegatest.app","js/vegatest.app.core","js/vegatest.app.core.state","vegatest.app.core/state","reagent.core.atom","vegatest.app.core/on-click-handler","e","js/console.log","cljs.core.swap_BANG_","cljs.core/+","vegatest.app.core/komponent","vegatest.app.core/app-state","vegatest.app.core/items-list","items","active-item","iter__4529__auto__","s__44978","cljs.core/LazySeq","temp__5735__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4527__auto__","size__4528__auto__","cljs.core/count","b__44980","cljs.core/chunk-buffer","i__44979","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__44977","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","item","cljs.core._EQ_","cljs.core/assoc-in","vegatest.app.core/timeline-url","vegatest.app.core/alter-height","v","js/vegatest.app.core.height","vegatest.app.core/height","vegatest.app.core/form","cljs.core/reset!","js/document.getElementById","vegatest.app.core/spec","cljs.core.js__GT_clj","vegatest.app.core/new-spec","cljs.core.assoc","cljs.core/deref","vegatest.app.core/app","cljs.core/map?","oz.core/vega","js/setTimeout","vegatest.app.core/root","vegatest.app.core/render","reagent.dom.render","vegatest.app.core/init","cljs.core/chunk-first"],"sourcesContent":["(ns vegatest.app.core\r\n  (:require [reagent.dom :as d]\r\n            [reagent.core :as r]\r\n            [oz.core :as oz]))\r\n\r\n\r\n(def json \"{\\n  \\\"$schema\\\": \\\"https://vega.github.io/schema/vega/v5.json\\\",\\n  \\\"description\\\": \\\"A timeline for Hjelmslev's activities.\\\",\\n  \\\"width\\\": 800,\\n  \\\"height\\\": 200,\\n  \\\"padding\\\": 10,\\n  \\\"autosize\\\": \\\"pad\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"name\\\": \\\"hjelmslev\\\",\\n      \\\"url\\\": \\\"https://raw.githubusercontent.com/SofieVonge/infrastrukturalisme/master/data/timeline/hjelmslev.json\\\",\\n      \\\"format\\\": {\\n        \\\"type\\\": \\\"json\\\",\\n        \\\"parse\\\": {\\n          \\\"Startdato\\\": \\\"date:'%d-%m-%Y'\\\",\\n          \\\"Slutdato\\\": \\\"date:'%d-%m-%Y'\\\"\\n        }\\n      },\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.Kategori === 'Rejse' ? 0 : 1\\\",\\n          \\\"as\\\": \\\"sorting\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"initValues\\\",\\n      \\\"format\\\": {\\n        \\\"type\\\": \\\"json\\\",\\n        \\\"parse\\\": {\\n          \\\"initRange\\\": \\\"date\\\"\\n        }\\n      },\\n      \\\"values\\\": [\\n        {\\n          \\\"initRange\\\": -1262304000000\\n        },\\n        {\\n          \\\"initRange\\\": -1136073600000\\n        }\\n      ],\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"extent\\\",\\n          \\\"field\\\": \\\"initRange\\\",\\n          \\\"signal\\\": \\\"xext\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"selected\\\",\\n      \\\"on\\\": [\\n        {\\n          \\\"trigger\\\": \\\"clear\\\",\\n          \\\"remove\\\": true\\n        },\\n        {\\n          \\\"trigger\\\": \\\"!shift\\\",\\n          \\\"remove\\\": true\\n        },\\n        {\\n          \\\"trigger\\\": \\\"!shift && clicked\\\",\\n          \\\"insert\\\": \\\"clicked\\\"\\n        },\\n        {\\n          \\\"trigger\\\": \\\"shift && clicked\\\",\\n          \\\"toggle\\\": \\\"clicked\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"signals\\\": [\\n    {\\n      \\\"name\\\": \\\"path\\\",\\n      \\\"value\\\": \\\"M0 -50 H 800 V 200 H0\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"clear\\\",\\n      \\\"value\\\": true,\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": \\\"dblclick[!event.item]\\\",\\n          \\\"update\\\": \\\"true\\\",\\n          \\\"force\\\": true\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"shift\\\",\\n      \\\"value\\\": false,\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": \\\"@legendSymbol:click, @legendLabel:click\\\",\\n          \\\"update\\\": \\\"event.shiftKey\\\",\\n          \\\"force\\\": true\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"clicked\\\",\\n      \\\"value\\\": null,\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": \\\"@legendSymbol:click, @legendLabel:click\\\",\\n          \\\"update\\\": \\\"{value: datum.value}\\\",\\n          \\\"force\\\": true\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"down\\\",\\n      \\\"value\\\": null,\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": \\\"mousedown\\\",\\n          \\\"update\\\": \\\"xy()\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"xcur\\\",\\n      \\\"value\\\": null,\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": \\\"mousedown\\\",\\n          \\\"update\\\": \\\"slice(xdom)\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"delta\\\",\\n      \\\"value\\\": [\\n        0,\\n        0\\n      ],\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": [\\n            {\\n              \\\"source\\\": \\\"window\\\",\\n              \\\"type\\\": \\\"mousemove\\\",\\n              \\\"filter\\\": \\\"!event.shiftKey\\\",\\n              \\\"consume\\\": true,\\n              \\\"between\\\": [\\n                {\\n                  \\\"type\\\": \\\"mousedown\\\",\\n                  \\\"filter\\\": \\\"!event.shiftKey\\\"\\n                },\\n                {\\n                  \\\"source\\\": \\\"window\\\",\\n                  \\\"type\\\": \\\"mouseup\\\"\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"update\\\": \\\"down ? [down[0]-x(), y()-down[1]] : [0,0]\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"xdom\\\",\\n      \\\"update\\\": \\\"slice(xext)\\\",\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": \\\"dblclick\\\",\\n          \\\"update\\\": \\\"slice(xext)\\\"\\n        },\\n        {\\n          \\\"events\\\": {\\n            \\\"signal\\\": \\\"delta\\\"\\n          },\\n          \\\"update\\\": \\\"[xcur[0] + span(xcur) * delta[0] / width, xcur[1] + span(xcur) * delta[0] / width]\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"scales\\\": [\\n    {\\n      \\\"name\\\": \\\"yscale\\\",\\n      \\\"type\\\": \\\"band\\\",\\n      \\\"range\\\": \\\"height\\\",\\n      \\\"domain\\\": {\\n        \\\"data\\\": \\\"hjelmslev\\\",\\n        \\\"field\\\": \\\"Kategori\\\",\\n        \\\"sort\\\": {\\n          \\\"op\\\": \\\"min\\\",\\n          \\\"field\\\": \\\"sorting\\\"\\n        }\\n      }\\n    },\\n    {\\n      \\\"name\\\": \\\"xscale\\\",\\n      \\\"type\\\": \\\"time\\\",\\n      \\\"padding\\\": 0.5,\\n      \\\"domain\\\": {\\n        \\\"signal\\\": \\\"xdom\\\"\\n      },\\n      \\\"range\\\": \\\"width\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"color\\\",\\n      \\\"type\\\": \\\"ordinal\\\",\\n      \\\"range\\\": {\\n        \\\"scheme\\\": \\\"category20\\\"\\n      },\\n      \\\"domain\\\": {\\n        \\\"data\\\": \\\"hjelmslev\\\",\\n        \\\"field\\\": \\\"Kategori\\\"\\n      }\\n    }\\n  ],\\n  \\\"axes\\\": [\\n    {\\n      \\\"orient\\\": \\\"bottom\\\",\\n      \\\"scale\\\": \\\"xscale\\\",\\n      \\\"format\\\": \\\"%m.%Y\\\",\\n      \\\"labelAngle\\\": -40,\\n      \\\"labelPadding\\\": 9\\n    },\\n    {\\n      \\\"orient\\\": \\\"left\\\",\\n      \\\"scale\\\": \\\"yscale\\\",\\n      \\\"grid\\\": true,\\n      \\\"encode\\\": {\\n        \\\"labels\\\": {\\n          \\\"enter\\\": {\\n            \\\"fill\\\": {\\n              \\\"signal\\\": \\\"scale('color', datum.value)\\\"\\n            }\\n          }\\n        }\\n      }\\n    }\\n  ],\\n  \\\"legends\\\": [\\n    {\\n      \\\"stroke\\\": \\\"color\\\",\\n      \\\"symbolType\\\": \\\"stroke\\\",\\n      \\\"direction\\\": \\\"horizontal\\\",\\n      \\\"orient\\\": \\\"top\\\",\\n      \\\"offset\\\": 80,\\n      \\\"encode\\\": {\\n        \\\"symbols\\\": {\\n          \\\"name\\\": \\\"legendSymbol\\\",\\n          \\\"interactive\\\": true,\\n          \\\"update\\\": {\\n            \\\"opacity\\\": [\\n              {\\n                \\\"test\\\": \\\"!length(data('selected')) || indata('selected', 'value', datum.value)\\\",\\n                \\\"value\\\": 1\\n              },\\n              {\\n                \\\"value\\\": 0.25\\n              }\\n            ]\\n          }\\n        },\\n        \\\"labels\\\": {\\n          \\\"name\\\": \\\"legendLabel\\\",\\n          \\\"interactive\\\": true,\\n          \\\"update\\\": {\\n            \\\"opacity\\\": [\\n              {\\n                \\\"test\\\": \\\"!length(data('selected')) || indata('selected', 'value', datum.value)\\\",\\n                \\\"value\\\": 1\\n              },\\n              {\\n                \\\"value\\\": 0.25\\n              }\\n            ]\\n          }\\n        }\\n      }\\n    }\\n  ],\\n  \\\"marks\\\": [\\n    {\\n      \\\"type\\\": \\\"path\\\",\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"fill\\\": {\\n            \\\"value\\\": \\\"purple\\\"\\n          },\\n          \\\"path\\\": {\\n            \\\"signal\\\": \\\"null\\\"\\n          }\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"from\\\": {\\n        \\\"data\\\": \\\"hjelmslev\\\"\\n      },\\n      \\\"zindex\\\": 99,\\n      \\\"clip\\\": {\\n        \\\"path\\\": \\\"M0 -50 H 800 V 200 H0\\\"\\n      },\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\n            \\\"scale\\\": \\\"xscale\\\",\\n            \\\"field\\\": \\\"Startdato\\\",\\n            \\\"offset\\\": 5.5\\n          },\\n          \\\"y\\\": {\\n            \\\"field\\\": \\\"Kategori\\\",\\n            \\\"scale\\\": \\\"yscale\\\",\\n            \\\"offset\\\": 3\\n          },\\n          \\\"angle\\\": {\\n            \\\"value\\\": -60\\n          },\\n          \\\"text\\\": {\\n            \\\"field\\\": \\\"Event\\\"\\n          },\\n          \\\"limit\\\": {\\n            \\\"value\\\": 50\\n          },\\n          \\\"tooltip\\\": [\\n            {\\n              \\\"test\\\": \\\"(!length(data('selected')) || indata('selected', 'value', datum.Kategori))\\\",\\n              \\\"signal\\\": \\\"datum.Tooltip\\\"\\n            }\\n          ],\\n          \\\"opacity\\\": [\\n            {\\n              \\\"test\\\": \\\"(!length(data('selected')) || indata('selected', 'value', datum.Kategori))\\\",\\n              \\\"value\\\": 1\\n            },\\n            {\\n              \\\"value\\\": 0\\n            }\\n          ]\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"symbol\\\",\\n      \\\"from\\\": {\\n        \\\"data\\\": \\\"hjelmslev\\\"\\n      },\\n      \\\"clip\\\": true,\\n      \\\"zindex\\\": 80,\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\n            \\\"scale\\\": \\\"xscale\\\",\\n            \\\"field\\\": \\\"Startdato\\\"\\n          },\\n          \\\"y\\\": {\\n            \\\"scale\\\": \\\"yscale\\\",\\n            \\\"field\\\": \\\"Kategori\\\",\\n            \\\"offset\\\": 6\\n          },\\n          \\\"fill\\\": {\\n            \\\"scale\\\": \\\"color\\\",\\n            \\\"field\\\": \\\"Kategori\\\"\\n          },\\n          \\\"tooltip\\\": [\\n            {\\n              \\\"test\\\": \\\"(!length(data('selected')) || indata('selected', 'value', datum.Kategori))\\\",\\n              \\\"signal\\\": \\\"'Land: ' + datum.Land\\\"\\n            }\\n          ],\\n          \\\"opacity\\\": [\\n            {\\n              \\\"test\\\": \\\"(!length(data('selected')) || indata('selected', 'value', datum.Kategori))\\\",\\n              \\\"value\\\": 1\\n            },\\n            {\\n              \\\"value\\\": 0\\n            }\\n          ]\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"rect\\\",\\n      \\\"from\\\": {\\n        \\\"data\\\": \\\"hjelmslev\\\"\\n      },\\n      \\\"zindex\\\": 1,\\n      \\\"clip\\\": true,\\n      \\\"encode\\\": {\\n        \\\"enter\\\": {\\n          \\\"y\\\": {\\n            \\\"scale\\\": \\\"yscale\\\",\\n            \\\"field\\\": \\\"Kategori\\\",\\n            \\\"offset\\\": 4\\n          },\\n          \\\"height\\\": {\\n            \\\"value\\\": 4\\n          },\\n          \\\"fill\\\": {\\n            \\\"scale\\\": \\\"color\\\",\\n            \\\"field\\\": \\\"Kategori\\\"\\n          }\\n        },\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\n            \\\"scale\\\": \\\"xscale\\\",\\n            \\\"field\\\": \\\"Startdato\\\"\\n          },\\n          \\\"x2\\\": {\\n            \\\"scale\\\": \\\"xscale\\\",\\n            \\\"field\\\": \\\"Slutdato\\\"\\n          },\\n          \\\"tooltip\\\": [\\n            {\\n              \\\"test\\\": \\\"(!length(data('selected')) || indata('selected', 'value', datum.Kategori))\\\",\\n              \\\"signal\\\": \\\"'Land: ' + datum.Land\\\"\\n            }\\n          ],\\n          \\\"opacity\\\": [\\n            {\\n              \\\"test\\\": \\\"(!length(data('selected')) || indata('selected', 'value', datum.Kategori))\\\",\\n              \\\"value\\\": 1\\n            },\\n            {\\n              \\\"value\\\": 0\\n            }\\n          ]\\n        }\\n      }\\n    }\\n  ],\\n  \\\"config\\\": {}\\n}\")\r\n(def a (.parse js/JSON json))\r\n\r\n(defonce state\r\n  (r/atom 0))\r\n\r\n\r\n(defn on-click-handler\r\n  [e]\r\n  (js/console.log e)\r\n  (swap! state + 6))\r\n ;; (js/alert (str \"state: \" @state)))\r\n\r\n(defn komponent []\r\n  [:button {:on-click on-click-handler}\r\n   \"Knap\"])\r\n\r\n\r\n(def app-state\r\n  (r/atom\r\n    {:msg \"Hello from app-state\"\r\n     :items [{:display \"Item 1\"}\r\n             {:display \"Item 2\"}\r\n             {:display \"Item 3\"}\r\n             {:display \"Item 4\"}\r\n             {:display \"Item 5\"}]\r\n     :active-item {}}))\r\n\r\n(defn items-list [items active-item]\r\n  [:div {:class \"items-list\"}\r\n   (for [item items]\r\n     ^{:key (:display item)}\r\n     [:div {:class (if (= active-item item) \"item active\" \"item\")}\r\n      [:p\r\n       {:on-click (fn [e] (swap! app-state assoc-in [:active-item] item))}\r\n       (:display item)]])])\r\n\r\n\r\n(def timeline-url\r\n  \"https://raw.githubusercontent.com/SofieVonge/infrastrukturalisme/master/data/timeline/timeline.vg.json\")\r\n\r\n\r\n(defn alter-height [v]\r\n  [{:op \"replace\" :path \"/height\" :value v}])\r\n\r\n(defonce height\r\n         (r/atom 200))\r\n\r\n(defn form []\r\n  [:<>\r\n   [:input#hjd {:placeholder 200}]\r\n   [:button#knap {:on-click (fn [e] (reset! height (.-value (js/document.getElementById \"hjd\"))))} \"Change height\"]])\r\n\r\n\r\n(def spec\r\n  (js->clj a :keywordize-keys true))\r\n\r\n(def new-spec\r\n  (assoc spec :height 500))\r\n\r\n(defn app []\r\n  (js/console.log \"spec: \" new-spec)\r\n  (js/console.log (map? new-spec))\r\n  [:<>\r\n   [:pre @state]\r\n   [:p \"Hej verden\"]\r\n   [items-list (:items @app-state) (:active-item @app-state)]\r\n   [:h1 (:msg @app-state)]\r\n   [form]\r\n   [oz/vega new-spec {:mode \"vega\"}]\r\n   [komponent]])\r\n\r\n(js/setTimeout\r\n  (fn [] (swap! app-state assoc-in [:msg] \"new message\"))\r\n  2000)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n(def root\r\n  (js/document.getElementById \"app\"))\r\n\r\n(defn ^:dev/after-load render []\r\n    (d/render [app] root))\r\n\r\n\r\n(defn init []\r\n (js/console.log \"Hello world\")\r\n (render))\r\n"]}